import React, { useEffect, useRef } from 'react';
import styled from 'styled-components';
import { useGlobalContext } from '../../context/context';

const Number = () => {
  const { firstSecRef, stop } = useGlobalContext();
  const firstRef = useRef();
  const secondRef = useRef();
  const thirdRef = useRef();
  const blindRef = useRef();

  const handle = () => {
    if (!firstSecRef.current) return;
    if (firstSecRef.current.getBoundingClientRect().top < 0) {
      if (blindRef.current.style.display === 'none') {
        return;
      }
      blindRef.current.style.display = 'none';
      firstRef.current.id = 'first';
      secondRef.current.id = 'second';
      thirdRef.current.id = 'third';
    }
  };
  useEffect(() => {
    window.addEventListener('scroll', handle);
    return () => window.removeEventListener('scroll', handle);
  }, [stop]);

  return (
    <>
      <NumContainer>
        <Blind ref={blindRef} />

        <svg width='280' height='150' fill='none' id='group'>
          <svg xmlns='http://www.w3.org/2000/svg' y='20'>
            <g ref={firstRef}>
              <path
                d='M58.2227 51.7266C58.2227 63.5234 55.7812 72.5469 50.8984 78.7969C46.0156 85.0469 38.8672 88.1719 29.4531 88.1719C20.1562 88.1719 13.0469 85.1055 8.125 78.9727C3.20312 72.8398 0.683594 64.0508 0.566406 52.6055V36.9023C0.566406 24.9883 3.02734 15.9453 7.94922 9.77344C12.9102 3.60156 20.0391 0.515625 29.3359 0.515625C38.6328 0.515625 45.7422 3.58203 50.6641 9.71484C55.5859 15.8086 58.1055 24.5781 58.2227 36.0234V51.7266ZM41.2891 34.5C41.2891 27.4297 40.3125 22.293 38.3594 19.0898C36.4453 15.8477 33.4375 14.2266 29.3359 14.2266C25.3516 14.2266 22.4023 15.7695 20.4883 18.8555C18.6133 21.9023 17.6172 26.6875 17.5 33.2109V53.9531C17.5 60.9062 18.4375 66.082 20.3125 69.4805C22.2266 72.8398 25.2734 74.5195 29.4531 74.5195C33.5938 74.5195 36.582 72.8984 38.418 69.6562C40.2539 66.4141 41.2109 61.4531 41.2891 54.7734V34.5Z'
                fill='#003D8D'
              />
              <path
                d='M41.9336 228H25V162.727L4.78516 168.996V155.227L40.1172 142.57H41.9336V228Z'
                fill='#003D8D'
              />
            </g>
          </svg>
          <svg
            x='80'
            y='20'
            width='63'
            height='935'
            viewBox='0 0 63 935'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <g ref={secondRef}>
              <path
                d='M60.2227 51.7266C60.2227 63.5234 57.7812 72.5469 52.8984 78.7969C48.0156 85.0469 40.8672 88.1719 31.4531 88.1719C22.1562 88.1719 15.0469 85.1055 10.125 78.9727C5.20312 72.8398 2.68359 64.0508 2.56641 52.6055V36.9023C2.56641 24.9883 5.02734 15.9453 9.94922 9.77344C14.9102 3.60156 22.0391 0.515625 31.3359 0.515625C40.6328 0.515625 47.7422 3.58203 52.6641 9.71484C57.5859 15.8086 60.1055 24.5781 60.2227 36.0234V51.7266ZM43.2891 34.5C43.2891 27.4297 42.3125 22.293 40.3594 19.0898C38.4453 15.8477 35.4375 14.2266 31.3359 14.2266C27.3516 14.2266 24.4023 15.7695 22.4883 18.8555C20.6133 21.9023 19.6172 26.6875 19.5 33.2109V53.9531C19.5 60.9062 20.4375 66.082 22.3125 69.4805C24.2266 72.8398 27.2734 74.5195 31.4531 74.5195C35.5938 74.5195 38.582 72.8984 40.418 69.6562C42.2539 66.4141 43.2109 61.4531 43.2891 54.7734V34.5Z'
                fill='#003D8D'
              />
              <path
                d='M43.9336 228H27V162.727L6.78516 168.996V155.227L42.1172 142.57H43.9336V228Z'
                fill='#003D8D'
              />
              <path
                d='M61.2773 369H2.80078V357.398L30.3984 327.984C34.1875 323.844 36.9805 320.23 38.7773 317.145C40.6133 314.059 41.5312 311.129 41.5312 308.355C41.5312 304.566 40.5742 301.598 38.6602 299.449C36.7461 297.262 34.0117 296.168 30.457 296.168C26.6289 296.168 23.6016 297.496 21.375 300.152C19.1875 302.77 18.0938 306.227 18.0938 310.523H1.10156C1.10156 305.328 2.33203 300.582 4.79297 296.285C7.29297 291.988 10.8086 288.629 15.3398 286.207C19.8711 283.746 25.0078 282.516 30.75 282.516C39.5391 282.516 46.3555 284.625 51.1992 288.844C56.082 293.062 58.5234 299.02 58.5234 306.715C58.5234 310.934 57.4297 315.23 55.2422 319.605C53.0547 323.98 49.3047 329.078 43.9922 334.898L24.5977 355.348H61.2773V369Z'
                fill='#003D8D'
              />
              <path
                d='M20.0273 459.844H29.0508C33.3477 459.844 36.5312 458.77 38.6016 456.621C40.6719 454.473 41.707 451.621 41.707 448.066C41.707 444.629 40.6719 441.953 38.6016 440.039C36.5703 438.125 33.7578 437.168 30.1641 437.168C26.9219 437.168 24.207 438.066 22.0195 439.863C19.832 441.621 18.7383 443.926 18.7383 446.777H1.80469C1.80469 442.324 2.99609 438.34 5.37891 434.824C7.80078 431.27 11.1602 428.496 15.457 426.504C19.793 424.512 24.5586 423.516 29.7539 423.516C38.7773 423.516 45.8477 425.684 50.9648 430.02C56.082 434.316 58.6406 440.254 58.6406 447.832C58.6406 451.738 57.4492 455.332 55.0664 458.613C52.6836 461.895 49.5586 464.414 45.6914 466.172C50.4961 467.891 54.0703 470.469 56.4141 473.906C58.7969 477.344 59.9883 481.406 59.9883 486.094C59.9883 493.672 57.2148 499.746 51.668 504.316C46.1602 508.887 38.8555 511.172 29.7539 511.172C21.2383 511.172 14.2656 508.926 8.83594 504.434C3.44531 499.941 0.75 494.004 0.75 486.621H17.6836C17.6836 489.824 18.875 492.441 21.2578 494.473C23.6797 496.504 26.6484 497.52 30.1641 497.52C34.1875 497.52 37.332 496.465 39.5977 494.355C41.9023 492.207 43.0547 489.375 43.0547 485.859C43.0547 477.344 38.3672 473.086 28.9922 473.086H20.0273V459.844Z'
                fill='#003D8D'
              />
              <path
                d='M52.8984 618.891H62.5664V632.543H52.8984V651H35.9648V632.543H0.984375L0.222656 621.879L35.7891 565.688H52.8984V618.891ZM17.0977 618.891H35.9648V588.773L34.8516 590.707L17.0977 618.891Z'
                fill='#003D8D'
              />
              <path
                d='M5.32031 750.047L10.2422 706.688H58.0547V720.809H24.1289L22.0195 739.148C26.043 737 30.3203 735.926 34.8516 735.926C42.9766 735.926 49.3438 738.445 53.9531 743.484C58.5625 748.523 60.8672 755.574 60.8672 764.637C60.8672 770.145 59.6953 775.086 57.3516 779.461C55.0469 783.797 51.7266 787.176 47.3906 789.598C43.0547 791.98 37.9375 793.172 32.0391 793.172C26.8828 793.172 22.0977 792.137 17.6836 790.066C13.2695 787.957 9.77344 785.008 7.19531 781.219C4.65625 777.43 3.30859 773.113 3.15234 768.27H19.9102C20.2617 771.824 21.4922 774.598 23.6016 776.59C25.75 778.543 28.543 779.52 31.9805 779.52C35.8086 779.52 38.7578 778.152 40.8281 775.418C42.8984 772.645 43.9336 768.738 43.9336 763.699C43.9336 758.855 42.7422 755.145 40.3594 752.566C37.9766 749.988 34.5977 748.699 30.2227 748.699C26.1992 748.699 22.9375 749.754 20.4375 751.863L18.7969 753.387L5.32031 750.047Z'
                fill='#003D8D'
              />
              <path
                d='M48.7383 846.809V860.754H47.0977C39.4414 860.871 33.2695 862.863 28.582 866.73C23.9336 870.598 21.1406 875.969 20.2031 882.844C24.7344 878.234 30.457 875.93 37.3711 875.93C44.793 875.93 50.6914 878.586 55.0664 883.898C59.4414 889.211 61.6289 896.203 61.6289 904.875C61.6289 910.422 60.418 915.441 57.9961 919.934C55.6133 924.426 52.2148 927.922 47.8008 930.422C43.4258 932.922 38.4648 934.172 32.918 934.172C23.9336 934.172 16.668 931.047 11.1211 924.797C5.61328 918.547 2.85938 910.207 2.85938 899.777V893.684C2.85938 884.426 4.59766 876.262 8.07422 869.191C11.5898 862.082 16.6094 856.594 23.1328 852.727C29.6953 848.82 37.293 846.848 45.9258 846.809H48.7383ZM32.2148 889.523C29.4805 889.523 27 890.246 24.7734 891.691C22.5469 893.098 20.9062 894.973 19.8516 897.316V902.473C19.8516 908.137 20.9648 912.57 23.1914 915.773C25.418 918.938 28.543 920.52 32.5664 920.52C36.1992 920.52 39.1289 919.094 41.3555 916.242C43.6211 913.352 44.7539 909.621 44.7539 905.051C44.7539 900.402 43.6211 896.652 41.3555 893.801C39.0898 890.949 36.043 889.523 32.2148 889.523Z'
                fill='#003D8D'
              />
            </g>
          </svg>
          <svg
            width='63'
            height='1215'
            x='160'
            y='20'
            viewBox='0 0 63 1215'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <g ref={thirdRef}>
              <path
                d='M48.7383 0.808594V14.7539H47.0977C39.4414 14.8711 33.2695 16.8633 28.582 20.7305C23.9336 24.5977 21.1406 29.9688 20.2031 36.8438C24.7344 32.2344 30.457 29.9297 37.3711 29.9297C44.793 29.9297 50.6914 32.5859 55.0664 37.8984C59.4414 43.2109 61.6289 50.2031 61.6289 58.875C61.6289 64.4219 60.418 69.4414 57.9961 73.9336C55.6133 78.4258 52.2148 81.9219 47.8008 84.4219C43.4258 86.9219 38.4648 88.1719 32.918 88.1719C23.9336 88.1719 16.668 85.0469 11.1211 78.7969C5.61328 72.5469 2.85938 64.207 2.85938 53.7773V47.6836C2.85938 38.4258 4.59766 30.2617 8.07422 23.1914C11.5898 16.082 16.6094 10.5938 23.1328 6.72656C29.6953 2.82031 37.293 0.847656 45.9258 0.808594H48.7383ZM32.2148 43.5234C29.4805 43.5234 27 44.2461 24.7734 45.6914C22.5469 47.0977 20.9062 48.9727 19.8516 51.3164V56.4727C19.8516 62.1367 20.9648 66.5703 23.1914 69.7734C25.418 72.9375 28.543 74.5195 32.5664 74.5195C36.1992 74.5195 39.1289 73.0938 41.3555 70.2422C43.6211 67.3516 44.7539 63.6211 44.7539 59.0508C44.7539 54.4023 43.6211 50.6523 41.3555 47.8008C39.0898 44.9492 36.043 43.5234 32.2148 43.5234Z'
                fill='#003D8D'
              />
              <path
                d='M60.8086 152.18L27.8203 228H9.94922L42.9961 156.398H0.574219V142.688H60.8086V152.18Z'
                fill='#003D8D'
              />
              <path
                d='M58.4062 306.363C58.4062 310.504 57.3711 314.176 55.3008 317.379C53.2305 320.582 50.3789 323.141 46.7461 325.055C50.8867 327.047 54.168 329.801 56.5898 333.316C59.0117 336.793 60.2227 340.895 60.2227 345.621C60.2227 353.199 57.6445 359.195 52.4883 363.609C47.332 367.984 40.3203 370.172 31.4531 370.172C22.5859 370.172 15.5547 367.965 10.3594 363.551C5.16406 359.137 2.56641 353.16 2.56641 345.621C2.56641 340.895 3.77734 336.773 6.19922 333.258C8.62109 329.742 11.8828 327.008 15.9844 325.055C12.3516 323.141 9.5 320.582 7.42969 317.379C5.39844 314.176 4.38281 310.504 4.38281 306.363C4.38281 299.098 6.80469 293.316 11.6484 289.02C16.4922 284.684 23.0742 282.516 31.3945 282.516C39.6758 282.516 46.2383 284.664 51.082 288.961C55.9648 293.219 58.4062 299.02 58.4062 306.363ZM43.2305 344.391C43.2305 340.68 42.1562 337.711 40.0078 335.484C37.8594 333.258 34.9688 332.145 31.3359 332.145C27.7422 332.145 24.8711 333.258 22.7227 335.484C20.5742 337.672 19.5 340.641 19.5 344.391C19.5 348.023 20.5547 350.953 22.6641 353.18C24.7734 355.406 27.7031 356.52 31.4531 356.52C35.125 356.52 37.9961 355.445 40.0664 353.297C42.1758 351.148 43.2305 348.18 43.2305 344.391ZM41.4727 307.184C41.4727 303.863 40.5938 301.207 38.8359 299.215C37.0781 297.184 34.5977 296.168 31.3945 296.168C28.2305 296.168 25.7695 297.145 24.0117 299.098C22.2539 301.051 21.375 303.746 21.375 307.184C21.375 310.582 22.2539 313.316 24.0117 315.387C25.7695 317.457 28.25 318.492 31.4531 318.492C34.6562 318.492 37.1172 317.457 38.8359 315.387C40.5938 313.316 41.4727 310.582 41.4727 307.184Z'
                fill='#003D8D'
              />
              <path
                d='M42.4102 475.898C37.9961 480.234 32.8398 482.402 26.9414 482.402C19.4023 482.402 13.3672 479.824 8.83594 474.668C4.30469 469.473 2.03906 462.48 2.03906 453.691C2.03906 448.105 3.25 442.988 5.67188 438.34C8.13281 433.652 11.5508 430.02 15.9258 427.441C20.3008 424.824 25.2227 423.516 30.6914 423.516C36.3164 423.516 41.3164 424.922 45.6914 427.734C50.0664 430.547 53.4648 434.59 55.8867 439.863C58.3086 445.137 59.5391 451.172 59.5781 457.969V464.238C59.5781 478.457 56.043 489.629 48.9727 497.754C41.9023 505.879 31.8828 510.215 18.9141 510.762L14.7539 510.82V496.699L18.5039 496.641C33.2305 495.977 41.1992 489.062 42.4102 475.898ZM31.1016 469.453C33.8359 469.453 36.1797 468.75 38.1328 467.344C40.125 465.938 41.6289 464.238 42.6445 462.246V455.273C42.6445 449.531 41.5508 445.078 39.3633 441.914C37.1758 438.75 34.2461 437.168 30.5742 437.168C27.1758 437.168 24.3828 438.73 22.1953 441.855C20.0078 444.941 18.9141 448.828 18.9141 453.516C18.9141 458.164 19.9688 461.992 22.0781 465C24.2266 467.969 27.2344 469.453 31.1016 469.453Z'
                fill='#003D8D'
              />
              <path
                d='M60.2227 615.727C60.2227 627.523 57.7812 636.547 52.8984 642.797C48.0156 649.047 40.8672 652.172 31.4531 652.172C22.1562 652.172 15.0469 649.105 10.125 642.973C5.20312 636.84 2.68359 628.051 2.56641 616.605V600.902C2.56641 588.988 5.02734 579.945 9.94922 573.773C14.9102 567.602 22.0391 564.516 31.3359 564.516C40.6328 564.516 47.7422 567.582 52.6641 573.715C57.5859 579.809 60.1055 588.578 60.2227 600.023V615.727ZM43.2891 598.5C43.2891 591.43 42.3125 586.293 40.3594 583.09C38.4453 579.848 35.4375 578.227 31.3359 578.227C27.3516 578.227 24.4023 579.77 22.4883 582.855C20.6133 585.902 19.6172 590.688 19.5 597.211V617.953C19.5 624.906 20.4375 630.082 22.3125 633.48C24.2266 636.84 27.2734 638.52 31.4531 638.52C35.5938 638.52 38.582 636.898 40.418 633.656C42.2539 630.414 43.2109 625.453 43.2891 618.773V598.5Z'
                fill='#003D8D'
              />
              <path
                d='M43.9336 792H27V726.727L6.78516 732.996V719.227L42.1172 706.57H43.9336V792Z'
                fill='#003D8D'
              />
              <path
                d='M61.2773 933H2.80078V921.398L30.3984 891.984C34.1875 887.844 36.9805 884.23 38.7773 881.145C40.6133 878.059 41.5312 875.129 41.5312 872.355C41.5312 868.566 40.5742 865.598 38.6602 863.449C36.7461 861.262 34.0117 860.168 30.457 860.168C26.6289 860.168 23.6016 861.496 21.375 864.152C19.1875 866.77 18.0938 870.227 18.0938 874.523H1.10156C1.10156 869.328 2.33203 864.582 4.79297 860.285C7.29297 855.988 10.8086 852.629 15.3398 850.207C19.8711 847.746 25.0078 846.516 30.75 846.516C39.5391 846.516 46.3555 848.625 51.1992 852.844C56.082 857.062 58.5234 863.02 58.5234 870.715C58.5234 874.934 57.4297 879.23 55.2422 883.605C53.0547 887.98 49.3047 893.078 43.9922 898.898L24.5977 919.348H61.2773V933Z'
                fill='#003D8D'
              />
              <path
                d='M20.0273 1023.84H29.0508C33.3477 1023.84 36.5312 1022.77 38.6016 1020.62C40.6719 1018.47 41.707 1015.62 41.707 1012.07C41.707 1008.63 40.6719 1005.95 38.6016 1004.04C36.5703 1002.12 33.7578 1001.17 30.1641 1001.17C26.9219 1001.17 24.207 1002.07 22.0195 1003.86C19.832 1005.62 18.7383 1007.93 18.7383 1010.78H1.80469C1.80469 1006.32 2.99609 1002.34 5.37891 998.824C7.80078 995.27 11.1602 992.496 15.457 990.504C19.793 988.512 24.5586 987.516 29.7539 987.516C38.7773 987.516 45.8477 989.684 50.9648 994.02C56.082 998.316 58.6406 1004.25 58.6406 1011.83C58.6406 1015.74 57.4492 1019.33 55.0664 1022.61C52.6836 1025.89 49.5586 1028.41 45.6914 1030.17C50.4961 1031.89 54.0703 1034.47 56.4141 1037.91C58.7969 1041.34 59.9883 1045.41 59.9883 1050.09C59.9883 1057.67 57.2148 1063.75 51.668 1068.32C46.1602 1072.89 38.8555 1075.17 29.7539 1075.17C21.2383 1075.17 14.2656 1072.93 8.83594 1068.43C3.44531 1063.94 0.75 1058 0.75 1050.62H17.6836C17.6836 1053.82 18.875 1056.44 21.2578 1058.47C23.6797 1060.5 26.6484 1061.52 30.1641 1061.52C34.1875 1061.52 37.332 1060.46 39.5977 1058.36C41.9023 1056.21 43.0547 1053.38 43.0547 1049.86C43.0547 1041.34 38.3672 1037.09 28.9922 1037.09H20.0273V1023.84Z'
                fill='#003D8D'
              />
              <path
                d='M52.8984 1182.89H62.5664V1196.54H52.8984V1215H35.9648V1196.54H0.984375L0.222656 1185.88L35.7891 1129.69H52.8984V1182.89ZM17.0977 1182.89H35.9648V1152.77L34.8516 1154.71L17.0977 1182.89Z'
                fill='#003D8D'
              />
            </g>
          </svg>

          <svg
            x='240'
            y='70'
            width='26'
            height='38'
            viewBox='0 0 26 38'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <path
              d='M10.3047 27.4043L7.76562 29.9434V38H0.709961V0.5H7.76562V21.2764L9.13281 19.5186L15.8955 11.584H24.3672L14.8213 22.5947L25.1973 38H17.0918L10.3047 27.4043Z'
              fill='#003D8D'
            />
          </svg>
        </svg>
      </NumContainer>
    </>
  );
};

export default Number;

const NumContainer = styled.div`
  margin: 0 auto;

  #group {
    overflow: hidden;
  }
  justify-content: center;

  #first {
    height: 50px;
    animation: alo 1s forwards ease 1.5s;
    @keyframes alo {
      0% {
        transform: translateY(0px);
      }

      100% {
        transform: translateY(-140px);
      }
    }
  }
  #second {
    animation: sd 2s forwards ease 0.5s;
    @keyframes sd {
      0% {
        transform: translateY(0px);
      }

      100% {
        transform: translateY(-843px);
      }
    }
  }

  #third {
    animation: kk 2s forwards ease;
    @keyframes kk {
      0% {
        transform: translateY(0px);
      }

      100% {
        transform: translateY(-1125px);
      }
    }
  }
`;
const Blind = styled.div`
  width: 300px;
  height: 200px;
  background: #fff;
  position: absolute;
  display: block;
`;
